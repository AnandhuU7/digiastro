---
import type { CollectionEntry } from "astro:content";
import { getCollection } from "astro:content";

const feature: CollectionEntry<"feature">[] = (
  await getCollection("feature")
);
---

<section class="relative">
  <div class="container relative pt-10" style="background-color: #f1f7ff;">
    <div class="grid grid-cols-1 pb-5 text-center">
      <span class="bg-cyan-50 text-cyan-600 text-sm font-medium px-4 py-1 rounded-full mb-4 inline-block mx-auto">
        Premium Security Solutions
      </span>
      
      <h2 class="font-bold text-4xl md:text-5xl text-slate-900 leading-tight mb-6">
        Hikvision Technology
        <span class="text-cyan-600 block mt-2">Securing Your Future</span>
      </h2>
      
      <p class="text-slate-600 text-lg max-w-3xl mx-auto leading-relaxed">
        We offer competitive pricing on all Hikvision products, allowing you to access cutting-edge security technology at affordable rates. With us, you can enjoy the best value for your investment without compromising on quality or performance. Our comprehensive range includes advanced surveillance cameras, smart security systems, and innovative access control solutions.
      </p>
      
      <div class="grid md:grid-cols-3 gap-6 mt-8 max-w-4xl mx-auto text-left">
        <div class="bg-white/50 p-4 rounded-lg">
          <h3 class="font-semibold text-slate-900 mb-2">✓ Expert Installation</h3>
          <p class="text-slate-600">Professional setup and configuration by certified technicians</p>
        </div>
        <div class="bg-white/50 p-4 rounded-lg">
          <h3 class="font-semibold text-slate-900 mb-2">✓ 24/7 Support</h3>
          <p class="text-slate-600">Round-the-clock technical assistance and monitoring</p>
        </div>
        <div class="bg-white/50 p-4 rounded-lg">
          <h3 class="font-semibold text-slate-900 mb-2">✓ Warranty Coverage</h3>
          <p class="text-slate-600">Comprehensive warranty and maintenance plans</p>
        </div>
      </div>
      
      <div class="mt-8">
        <a href="#products" class="inline-flex items-center justify-center px-6 py-3 text-base font-medium text-white bg-cyan-600 hover:bg-cyan-700 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1">
          Explore Products
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </a>
      </div>
    </div>
  </div>
  <div class="grid lg:grid-cols-4 md:grid-cols-2 sm:grid-cols-2 grid-cols-1 gap-6 pt-6 p-2 pb-12" style="background-color: #f1f7ff;">
    {feature.map((feature) => (
      <div class="group perspective h-[400px] w-full cursor-pointer">
        <div class="relative preserve-3d duration-1000 ease-in-out h-full w-full">
          <div class="absolute w-full h-full backface-hidden">
            <div class="rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 relative bg-gradient-to-br from-[#e5edf7] to-[#e5edf7] p-8 overflow-hidden h-full border border-slate-700/50">
              <div class="flex items-center justify-center size-24 text-white text-center rounded-full p-4 bg-gradient-to-r from-cyan-600 to-cyan-500 group-hover:from-cyan-500 group-hover:to-cyan-400 transition-colors duration-500 shadow-lg">
                <p class="font-bold">{feature.data.name}</p>
              </div>
              <div class="content mt-8 relative z-10">
                <a href="/productsnew" class="title text-xl font-bold text-black hover:text-cyan-600 transition-colors duration-300 block mb-4">
                  {feature.data.title}
                </a>
                <p class="text-black leading-relaxed">{feature.data.body}</p>
              </div>
            </div>
          </div>
          <div class="absolute inset-0 h-full w-full [transform:rotateY(180deg)] backface-hidden">
            <div class="rounded-xl shadow-lg transform transition-all duration-300 relative bg-gradient-to-br from-[#e5edf7] to-[#e5edf7] p-8 overflow-hidden h-full border border-slate-700/50">
              <div class="flex flex-col items-center justify-center h-full text-black">
                <h3 class="text-2xl font-bold mb-4">{feature.data.name}</h3>
                <p class="text-black text-center">{feature.data.body}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    ))}
  </div>
</section>

<script is:inline src="/scripts/vendor/preline/tabs/index.js"></script>

<style>
  .perspective { perspective: 1000px; }
  .preserve-3d { transform-style: preserve-3d; }
  .backface-hidden { backface-visibility: hidden; }
  .flip { transform: rotateY(180deg); }
</style>

<script>
  document.querySelectorAll('.group').forEach(card => {
    card.addEventListener('click', () => {
      const relativeElement = card.querySelector('.relative');
      if (relativeElement) {
        relativeElement.classList.toggle('flip');
      }
    });
  });
</script>
