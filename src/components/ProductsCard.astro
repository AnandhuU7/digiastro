---
// src/components/ProductCard.astro
const { product, categories } = Astro.props;

interface Product {
  id: number;
  name: string;
  category: number;
  image: string;
}
---

<div class="product-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-500">
  <div class="relative overflow-hidden group">
    <div class="h-56 bg-gray-100 overflow-hidden">
      <img 
        src={product.image} 
        alt={product.name} 
        class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" 
      />
    </div>
    <div class="absolute top-3 right-3">
      <button class="bg-white p-2 rounded-full shadow-md hover:shadow-lg transition-all hover:scale-110 text-gray-700 hover:text-teal">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
        </svg>
      </button>
    </div>
  </div>
  <div class="p-5">
    <div class="flex justify-between items-center mb-3">
      <h3 class="font-semibold text-lg text-gray-800">{product.name}</h3>
    </div>
    <p class="text-gray-500 text-sm mb-4">Category: {categories.find((c: { id: number; name: string }) => c.id === product.category)?.name}</p>
    <button class="more-details w-full bg-teal text-white py-3 rounded-lg font-medium hover:bg-teal-dark transition-all duration-300 transform hover:-translate-y-1 shadow-md hover:shadow-lg">
      More Details
    </button>
  </div>
</div>

<style>
  .product-card {
    animation: fadeInUp 0.6s ease forwards;
    opacity: 0;
    animation-delay: calc(0.15s * var(--index, 0));
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>